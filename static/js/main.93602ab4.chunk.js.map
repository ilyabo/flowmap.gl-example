{"version":3,"sources":["App.js","index.js"],"names":["colors","flows","max","locationAreas","outline","normal","selected","App","state","locations","_this2","this","fetch","then","response","json","setState","_this$state","layers","push","FlowMapLayer","getLocationId","l","properties","abbr","getLocationCentroid","centroid","getFlowOriginId","f","origin","getFlowDestId","dest","getFlowMagnitude","count","showTotals","showLocationAreas","locationCircleSize","varyFlowColorByMagnitude","react_default","a","createElement","dist_esm","initialViewState","_geoViewport$viewport","geoViewport","viewport","window","innerWidth","innerHeight","undefined","_geoViewport$viewport2","Object","slicedToArray","center","longitude","latitude","zoom","bearing","pitch","getInitialViewState","controller","esm","mapboxApiAccessToken","process","Component","ReactDOM","render","App_App","document","getElementById","write"],"mappings":"wUAyBMA,EAAS,CACbC,MAAO,CACLC,IAAK,WAEPC,cAAe,CACbC,QAAS,uBACTC,OAAQ,wBACRC,SAAU,yBAMOC,6MACnBC,MAAQ,CACNC,UAAW,KACXR,MAAO,yFAGW,IAAAS,EAAAC,KAClBC,MAAM,uBACHC,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAE,GAAI,OAAIL,EAAKM,SAAS,CAAEP,UAAWM,MAE3CH,MAAM,mBACHC,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAE,GAAI,OAAIL,EAAKM,SAAS,CAAEf,MAAOc,uCAGhC,IAAAE,EACsBN,KAAKH,MAA1BC,EADDQ,EACCR,UAAWR,EADZgB,EACYhB,MACbiB,EAAS,GAoBf,OAnBIT,GAAaR,GACfiB,EAAOC,KACL,IAAIC,IAAa,CACfpB,SACAS,YACAR,QACAoB,cAAe,SAAAC,GAAC,OAAIA,EAAEC,WAAWC,MACjCC,oBAAqB,SAAAH,GAAC,OAAIA,EAAEC,WAAWG,UACvCC,gBAAiB,SAAAC,GAAC,OAAIA,EAAEC,QACxBC,cAAe,SAAAF,GAAC,OAAIA,EAAEG,MACtBC,iBAAkB,SAAAJ,GAAC,OAAIA,EAAEK,OACzBC,YAAY,EACZC,mBAAmB,EACnBC,mBAAoB,EACpBC,0BAA0B,KAM9BC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CACEC,iBAtEoB,WAC1B,IADgCC,EAG9BC,IAAYC,SAFD,CAAC,kBAAmB,OAAQ,OAAQ,QAI7C,CAACC,OAAOC,WAAYD,OAAOE,kBAC3BC,OAAWA,EAAW,KANMC,EAAAC,OAAAC,EAAA,EAAAD,CAAAR,EAExBU,OAFwB,GAQhC,MAAO,CACLC,UAT8BJ,EAAA,GAU9BK,SAV8BL,EAAA,GAW9BM,KAX8Bb,EAEOa,KAUrCC,QAAS,EACTC,MAAO,GAyDeC,GAClBC,YAAY,EACZ1C,OAAQA,GAERoB,EAAAC,EAAAC,cAACqB,EAAA,EAAD,CAAWC,qBA5EEC,6EAgCYC,aClCjCC,IAASC,OAAO5B,EAAAC,EAAAC,cAAC2B,EAAD,MAASC,SAASC,eAAe,SAEjDD,SAASE,MAAT","file":"static/js/main.93602ab4.chunk.js","sourcesContent":["import React, {Component} from 'react'\nimport {StaticMap} from 'react-map-gl'\nimport DeckGL from 'deck.gl'\nimport FlowMapLayer from 'flowmap.gl'\nimport geoViewport from '@mapbox/geo-viewport'\n\nconst MAPBOX_TOKEN = process.env.REACT_APP_MapboxAccessToken\n\nconst getInitialViewState = () => {\n  const bbox = [5.956453645364537, 45.818, 10.492, 47.808]\n  const { center: [longitude, latitude], zoom } =\n    geoViewport.viewport(\n      bbox,\n      [window.innerWidth, window.innerHeight],\n      undefined, undefined, 512\n    )\n  return {\n    longitude,\n    latitude,\n    zoom,\n    bearing: 0,\n    pitch: 0,\n  }\n}\n\nconst colors = {\n  flows: {\n    max: '#137CBD',\n  },\n  locationAreas: {\n    outline: 'rgba(92,112,128,0.5)',\n    normal: 'rgba(187,187,187,0.5)',\n    selected: 'rgba(217,130,43,0.5)',\n  },\n}\n\n\n\nexport default class App extends Component {\n  state = {\n    locations: null,\n    flows: null,\n  }\n\n  componentDidMount() {\n    fetch('data/locations.json')\n      .then(response => response.json())\n      .then(json => this.setState({ locations: json }))\n\n    fetch('data/flows.json')\n      .then(response => response.json())\n      .then(json => this.setState({ flows: json }))\n  }\n\n  render() {\n    const { locations, flows } = this.state\n    const layers = []\n    if (locations && flows) {\n      layers.push(\n        new FlowMapLayer({\n          colors,\n          locations,\n          flows,\n          getLocationId: l => l.properties.abbr,\n          getLocationCentroid: l => l.properties.centroid,\n          getFlowOriginId: f => f.origin,\n          getFlowDestId: f => f.dest,\n          getFlowMagnitude: f => f.count,\n          showTotals: true,\n          showLocationAreas: true,\n          locationCircleSize: 3,\n          varyFlowColorByMagnitude: true,\n        })\n      )\n    }\n\n    return (\n      <DeckGL\n        initialViewState={getInitialViewState()}\n        controller={true}\n        layers={layers}\n      >\n        <StaticMap mapboxApiAccessToken={MAPBOX_TOKEN} />\n      </DeckGL>\n    )\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\ndocument.write(\n  `<a href=\"https://github.com/ilyabo/flowmap.gl-example\">\n    <img \n      style=\"position: absolute; top: 0; right: 0; border: 0;\" \n      src=\"https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png\" \n      alt=\"Fork me on GitHub\">\n   </a>\n `\n);\n"],"sourceRoot":""}